(function(t){function s(s){for(var a,n,c=s[0],o=s[1],l=s[2],u=0,v=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&v.push(i[n][0]),i[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(s);while(v.length)v.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,s=0;s<r.length;s++){for(var e=r[s],a=!0,c=1;c<e.length;c++){var o=e[c];0!==i[o]&&(a=!1)}a&&(r.splice(s--,1),t=n(n.s=e[0]))}return t}var a={},i={app:0},r=[];function n(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=a,n.d=function(t,s,e){n.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,s){if(1&s&&(t=n(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)n.d(e,a,function(s){return t[s]}.bind(null,a));return e},n.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(s,"a",s),s},n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},n.p="/app/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=s,c=c.slice();for(var l=0;l<c.length;l++)s(c[l]);var d=o;r.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},1254:function(t,s,e){"use strict";e("baa9")},"19ad":function(t,s,e){t.exports=e.p+"img/gallery-4.62460c31.png"},"1d16":function(t,s,e){"use strict";e("7ac5")},"2aa1":function(t,s,e){},"33b9":function(t,s,e){},4256:function(t,s,e){"use strict";e("d3f0")},"477c":function(t,s,e){"use strict";e("5b43")},"4f77":function(t,s,e){"use strict";e("6a77")},"53ff":function(t,s,e){},"54cf":function(t,s,e){},"56d7":function(t,s,e){"use strict";e.r(s);e("264a"),e("c6fb");var a=e("fdf3"),i=e.n(a),r=(e("61b1"),e("c800"),e("cd62"),e("7804"),e("697e"),e("0cfe")),n=e("1ceb"),c=function(){var t=this,s=t._self._c;return s("div",[s("nav-header"),s("router-view"),s("nav-footer")],1)},o=[],l=(e("388f"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"header"},[s("div",{staticClass:"nav-topbar"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"topbar-user"},[t.username?s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))]):t._e(),t.username?t._e():s("a",{attrs:{href:"javascript:;"},on:{click:t.login}},[t._v("登录")]),t.username?s("a",{attrs:{href:"javascript:;"},on:{click:t.loginOut}},[t._v("退出")]):t._e(),t.username?s("a",{attrs:{href:"/#/order/list"}},[t._v("我的订单")]):t._e(),s("a",{staticClass:"my-cart",attrs:{href:"javascript:;"},on:{click:t.goToCart}},[s("span",{staticClass:"icon-cart"}),t._v("购物车("+t._s(t.cartCount)+")")])])])]),s("div",{staticClass:"nav-header"},[s("div",{staticClass:"container"},[t._m(1),s("div",{staticClass:"header-menu"},[s("div",{staticClass:"item-menu"},[s("span",[t._v("小米手机")]),s("div",{staticClass:"children"},[s("ul",t._l(t.phoneList,(function(e,a){return s("li",{key:a,staticClass:"product"},[s("a",{attrs:{href:"/#/product/"+e.id,target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}],attrs:{alt:e.subtitle}})]),s("div",{staticClass:"pro-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"pro-price"},[t._v(t._s(t._f("currency")(e.price)))])])])})),0)])]),t._m(2),s("div",{staticClass:"item-menu"},[s("span",[t._v("电视")]),s("div",{staticClass:"children"},[s("ul",[s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-1.jpg",expression:"'/imgs/nav-img/nav-3-1.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米壁画电视 65英寸")]),s("div",{staticClass:"pro-price"},[t._v("6999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-2.jpg",expression:"'/imgs/nav-img/nav-3-2.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米全面屏电视E55A")]),s("div",{staticClass:"pro-price"},[t._v("1999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-3.png",expression:"'/imgs/nav-img/nav-3-3.png'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米电视4A 32英寸")]),s("div",{staticClass:"pro-price"},[t._v("699元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-4.jpg",expression:"'/imgs/nav-img/nav-3-4.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米电视4A 55英寸")]),s("div",{staticClass:"pro-price"},[t._v("1799元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-5.jpg",expression:"'/imgs/nav-img/nav-3-5.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米电视4A 65英寸")]),s("div",{staticClass:"pro-price"},[t._v("2699元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-6.png",expression:"'/imgs/nav-img/nav-3-6.png'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("查看全部")]),s("div",{staticClass:"pro-price"},[t._v("查看全部")])])])])])])]),t._m(3)])])])}),d=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"topbar-menu"},[s("a",{attrs:{href:"javascript:;"}},[t._v("小米商城")]),s("a",{attrs:{href:"javascript:;"}},[t._v("MUI")]),s("a",{attrs:{href:"javascript:;"}},[t._v("云服务")]),s("a",{attrs:{href:"javascript:;"}},[t._v("协议规则")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"item-menu"},[s("span",[t._v("RedMi红米")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"header-search"},[s("div",{staticClass:"wrapper"},[s("input",{attrs:{type:"text",name:"keyword"}}),s("a",{attrs:{href:"javascript:;"}})])])}],u=e("66f2"),v=(e("0508"),e("7736")),p={name:"nav-header",data:function(){return{phoneList:[]}},computed:Object(u["a"])({},Object(v["b"])(["username","cartCount"])),filters:{currency:function(t){return t?"￥"+t.toFixed(2)+"元":"0.00"}},mounted:function(){this.getProductList()},methods:{login:function(){this.$router.push("/login")},loginOut:function(){var t=this;this.axios.post("/user/logout").then((function(){t.$message.success("退出成功"),t.$cookie.set("userId","",{expires:"Session"}),t.$store.dispatch("saveUsername",""),t.$store.dispatch("saveCartCount","0")}))},getProductList:function(){var t=this;this.axios.get("/products",{params:{categoryId:"100012",pageSize:6}}).then((function(s){t.phoneList=s.list}))},goToCart:function(){this.$router.push("/cart")}}},m=p,f=(e("1254"),e("0b56")),h=Object(f["a"])(m,l,d,!1,null,null,null),_=h.exports,g=function(){var t=this;t._self._c;return t._m(0)},C=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"footer"},[s("div",{staticClass:"footer-logo"},[s("img",{attrs:{src:"/imgs/logo-footer.png",alt:""}}),s("p",[t._v("小米商城")])]),s("div",{staticClass:"footer-link"},[s("a",{attrs:{href:"https://www.imooc.com/u/1343480",target:"_blank"}},[t._v("河畔一角主页")]),s("span",[t._v("|")]),s("a",{attrs:{href:"https://coding.imooc.com/class/113.html",target:"_blank"}},[t._v("Vue全栈课程")]),s("span",[t._v("|")]),s("a",{attrs:{href:"https://coding.imooc.com/class/236.html",target:"_blank"}},[t._v("React全家桶课程")]),s("span",[t._v("|")]),s("a",{attrs:{href:"https://coding.imooc.com/class/343.html",target:"_blank"}},[t._v("微信支付专项课程（H5+小程序+Node+Mongo）")])]),s("div",{staticClass:"copyright"},[t._v("Copyright ©2019 "),s("span",{staticClass:"domain"},[t._v("mi.futurefe.com")]),t._v(" All Rights Reserved.")])])}],y={name:"nav-footer"},b=y,w=(e("7b00"),Object(f["a"])(b,g,C,!1,null,"6bb7f4f0",null)),x=w.exports,k={name:"nav-home",components:{NavHeader:_,NavFooter:x}},j=k,M=Object(f["a"])(j,c,o,!1,null,null,null),P=M.exports,I=function(){var t=this,s=t._self._c;return s("div",{staticClass:"index"},[s("div",{staticClass:"container"},[s("div",{staticClass:"swiper-box"},[s("div",{staticClass:"wrap-nav"},[s("ul",{staticClass:"wrap-menu"},[s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"##"}},[t._v("手机 电话卡")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(e,a){return s("ul",{key:a},t._l(e,(function(e,a){return s("li",{key:a},[s("a",{attrs:{href:e?"/#/product/"+e.id:""}},[s("img",{attrs:{src:e?e.img:"/imgs/item-box-1.png"}}),t._v(" "+t._s(e?e.name:"小米9"))])])})),0)})),0)]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)])]),s("swiper",{attrs:{options:t.swiperOption}},[t._l(t.slideList,(function(t,e){return s("swiper-slide",{key:e},[s("a",{attrs:{href:"/#/product/"+t.id}},[s("img",{attrs:{src:t.img}})])])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1),s("div",{staticClass:"ads-box"},t._l(t.adsList,(function(t,e){return s("a",{key:e,attrs:{href:"/#/product/"+t.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}]})])})),0),s("div",{staticClass:"banner"},[s("a",{attrs:{href:"/#/product/30"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/banner-1.png",expression:"'/imgs/banner-1.png'"}],attrs:{alt:""}})])])]),s("div",{staticClass:"product-container"},[s("div",{staticClass:"product-box"},[s("span",[t._v("手机")]),s("div",{staticClass:"product-content"},[s("div",{staticClass:"left-banner"},[s("a",{attrs:{href:"/#/product/"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/mix-alpha.jpg",expression:"'/imgs/mix-alpha.jpg'"}],attrs:{alt:""}})])]),s("div",{staticClass:"phone-list"},t._l(t.phoneList,(function(e,a){return s("div",{key:a,staticClass:"item"},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"phone-item"},[s("span",{class:{"new-product":a%2==0}},[t._v("新品")]),s("a",{attrs:{href:"/#/product/"+e.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"innerItem.mainImage"}]})]),s("h3",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.subtitle))]),s("h5",{on:{click:function(s){return t.addCart(e.id)}}},[t._v(t._s(e.price)+"元")])])})),0)})),0)])])]),s("service-bar"),s("modal",{attrs:{title:"提示",sureText:"查看购物车",btntype:"1",modaltype:"middle",showModal:t.showModal},on:{submit:t.submit,cancel:t.cancel},scopedSlots:t._u([{key:"body",fn:function(){return[t._t("body",(function(){return[t._v("商品添加成功")]}))]},proxy:!0}],null,!0)})],1)},N=[function(){var t=this,s=t._self._c;return s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"javascript：；"}},[t._v("电视 盒子")]),s("div",{staticClass:"children"})])},function(){var t=this,s=t._self._c;return s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"javascript：；"}},[t._v("笔记本 平板")]),s("div",{staticClass:"children"})])},function(){var t=this,s=t._self._c;return s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"javascript：；"}},[t._v("家电 插线板")]),s("div",{staticClass:"children"})])},function(){var t=this,s=t._self._c;return s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"javascript：；"}},[t._v("出行 穿戴")])])},function(){var t=this,s=t._self._c;return s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"javascript：；"}},[t._v("耳机 音箱")])])},function(){var t=this,s=t._self._c;return s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"javascript：；"}},[t._v("电源 配件")])])},function(){var t=this,s=t._self._c;return s("li",{staticClass:"warp-item"},[s("a",{attrs:{href:"javascript：；"}},[t._v("生活 箱包")])])}],S=(e("3a81"),function(){var t=this;t._self._c;return t._m(0)}),O=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"service"},[s("div",{staticClass:"container"},[s("ul",[s("li",[s("span",{staticClass:"icon-setting"}),t._v("预约维修服务")]),s("li",[s("span",{staticClass:"icon-7day"}),t._v("7天无理由退货")]),s("li",[s("span",{staticClass:"icon-15day"}),t._v("15天免费换货")]),s("li",[s("span",{staticClass:"icon-post"}),t._v("满150元包邮")])])])])}],L={name:"service-bar"},T=L,A=(e("d2c6"),Object(f["a"])(T,S,O,!1,null,"85cb4fe2",null)),$=A.exports,z=e("6fe8"),D=(e("664d"),function(){var t=this,s=t._self._c;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal"},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("span",[t._v(t._s(t.title))]),s("a",{staticClass:"icon-close",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("cancel")}}})]),s("div",{staticClass:"modal-body"},[t._t("body")],2),s("div",{staticClass:"modal-footer"},[1==t.btntype?s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]):t._e(),2==t.btntype?s("a",{staticClass:"btn btn-default",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))]):t._e(),3==t.btntype?s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]),s("a",{staticClass:"btn btn-default",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))])]):t._e()])])])])])}),B=[],E={name:"modal",props:{modaltype:{type:String,default:"form"},title:String,btntype:String,sureText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},showModal:Boolean}},U=E,Q=(e("1d16"),Object(f["a"])(U,D,B,!1,null,null,null)),q=Q.exports,G={name:"index",components:{swiper:z["swiper"],swiperSlide:z["swiperSlide"],ServiceBar:$,Modal:q},data:function(){return{showModal:!1,swiperOption:{autoplay:!0,loop:!0,effect:"cube",cubeEffect:{shadowOffset:100,shadowScale:.6},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},slideList:[{id:"42",img:"/imgs/slider/slide-1.jpg"},{id:"45",img:"/imgs/slider/slide-2.jpg"},{id:"46",img:"/imgs/slider/slide-3.jpg"},{id:"",img:"/imgs/slider/slide-4.jpg"},{id:"",img:"/imgs/slider/slide-1.jpg"}],menuList:[[{id:30,img:"/imgs/item-box-1.png",name:"小米CC9 "},{id:31,img:"/imgs/item-box-2.png",name:"小米8青春版"},{id:32,img:"/imgs/item-box-3.jpg",name:"Redmi K20 Pro"},{id:33,img:"/imgs/item-box-4.jpg ",name:"移动4G专区"}],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],adsList:[{id:33,img:"/imgs/ads/ads-1.png"},{id:48,img:"/imgs/ads/ads-2.jpg"},{id:45,img:"/imgs/ads/ads-3.png"},{id:47,img:"/imgs/ads/ads-4.jpg"}],phoneList:[]}},mounted:function(){this.getCartCount(),this.getProduct()},methods:{getCartCount:function(){var t=this;this.axios.get("/carts/products/sum",{}).then((function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.$store.dispatch("saveCartCount",s)}))},getProduct:function(){var t=this;this.axios.get("/products",{params:{categoryId:100012,pageSize:14}}).then((function(s){s.list.slice(6,14),t.phoneList=[s.list.slice(0,4),s.list.slice(4,8)]}))},addCart:function(t){var s=this;this.axios.post("/carts",{productId:t,selected:!0}).then((function(t){s.showModal=!0,s.$store.dispatch("saveCartCount",t.cartTotalQuantity)})).catch((function(){s.showModal=!0}))},submit:function(){this.$router.push("/cart")},cancel:function(){this.showModal=!1}}},H=G,V=(e("e806"),Object(f["a"])(H,I,N,!1,null,null,null)),R=V.exports,Z=function(){var t=this,s=t._self._c;return s("div",{staticClass:"product"},[s("div",{staticClass:"container"},[s("productParam",{attrs:{name:t.info.name},scopedSlots:t._u([{key:"buy",fn:function(){return[s("button",{staticClass:"btn",on:{click:t.buy}},[t._v("立即购买")])]},proxy:!0}])})],1),s("div",{staticClass:"details"},[s("div",{staticClass:"content"},[s("h1",[t._v(t._s(t.info.name))]),s("h3",[t._v(t._s(t.info.subtitle))]),t._m(0),s("div",{staticClass:"price"},[s("h2",[t._v("¥ "+t._s(t.info.price))]),s("h5",[t._v("¥ 2999")])])])]),t._m(1),t._m(2),t._m(3),s("div",{staticClass:"animation"},[s("div",{staticClass:"animation-box"},[s("h3",[t._v("60帧超慢动作摄影")]),s("h3",[t._v("慢慢回味每一瞬间的精彩")]),s("p",{staticClass:"description"},[t._v("后置960帧电影般超慢动作视频，将眨眼间的美妙展现得淋漓尽致！ ")]),s("p",[t._v("更能AI 精准分析视频内容，15个场景智能匹配背景音效。")]),s("div",{staticClass:"video-bg",on:{click:function(s){t.isSlide="slideDown"}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isSlide,expression:"isSlide"}],staticClass:"video-box"},[s("div",{staticClass:"video-mask"}),s("div",{staticClass:"video",class:{slideDown:"slideDown"==t.isSlide,slideUp:"slideUp"==t.isSlide}},[s("img",{staticClass:"icon",attrs:{src:"/imgs/icon-close.png"},on:{click:t.slideClose}}),s("video",{attrs:{src:"/imgs/product/video.mp4",controls:""}})])])])])])},F=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"description"},[s("p",[t._v("全球首款双频 GP")]),s("span",[t._v("|")]),s("p",[t._v("骁龙845")]),s("span",[t._v("|")]),s("p",[t._v("AI 变焦双摄")]),s("span",[t._v("|")]),s("p",[t._v("红外人脸识别")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"container"},[s("img",{attrs:{src:"/imgs/product/product-bg-2.png",alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"bg"},[s("img",{attrs:{src:"/imgs/product/product-bg-3.png",alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"adscontent"},[s("img",{attrs:{src:e("d010"),alt:""}}),s("img",{attrs:{src:e("19ad"),alt:""}}),s("img",{attrs:{src:e("6935"),alt:""}})])}],J=(e("94a2"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav-header",class:{is_fixed:t.fixed}},[s("div",{staticClass:"container"},[s("span",[t._v(t._s(t.name))]),s("div",{staticClass:"item"},[s("a",{attrs:{href:"##"}},[t._v("概述")]),s("span",[t._v("|")]),s("a",{attrs:{href:"##"}},[t._v("参数")]),s("span",[t._v("|")]),s("a",{attrs:{href:"##"}},[t._v("用户评价")]),t._t("buy")],2)])])}),K=[],W={name:"productParam",props:{name:String},data:function(){return{fixed:!1}},mounted:function(){window.addEventListener("scroll",this.isfixed)},methods:{isfixed:function(){var t=Window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.fixed=t>152},destroyed:function(){window.removeaddEventListener("scroll",this.isfixed,!1)}}},X=W,Y=(e("c6a2"),Object(f["a"])(X,J,K,!1,null,"adeff82a",null)),tt=Y.exports,st={name:"product",components:{productParam:tt},data:function(){return{info:{},isSlide:""}},mounted:function(){this.getProductInfo()},methods:{slideClose:function(){var t=this;this.isSlide="slideUp",setTimeout((function(){t.isSlide=""}),600)},getProductInfo:function(){var t=this,s=this.$route.params.id;this.axios.get("/products/"+s).then((function(s){t.info=s}))},buy:function(){var t=this.$route.params.id;this.$router.push("/detail/".concat(t))}}},et=st,at=(e("9df9"),Object(f["a"])(et,Z,F,!1,null,null,null)),it=at.exports,rt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"detail"},[s("productParam",{attrs:{name:t.product.name}}),s("div",{staticClass:"container-content"},[s("div",{staticClass:"detail-img"},[s("swiper",{attrs:{options:t.swiperOption}},[t._l(t.imgList,(function(t,e){return s("swiper-slide",{key:e},[s("a",[s("img",{attrs:{src:t.img}})])])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),s("div",{staticClass:"swiper-button-prev swiper-button-black",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next swiper-button-black",attrs:{slot:"button-next"},slot:"button-next"})],2)],1),s("div",{staticClass:"detail-description"},[s("div",{staticClass:"description-header"},[s("h2",{staticClass:"item-title"},[t._v(t._s(t.product.name))]),s("p",{staticClass:"item-info"},[t._v("相机全新升级 / 960帧超慢动作 / 手持超级夜景 / 全球首款双频GPS / 骁龙845处理器 / 红外人脸解锁 / AI变焦双摄 / 三星 AMOLED 屏")]),s("div",{staticClass:"delivery"},[t._v(t._s(t.product.subtitle))]),s("div",{staticClass:"item-price"},[t._v(t._s(t.product.price)+"元"),s("span",{staticClass:"del"},[t._v("1999元")])])]),t._m(0),s("p",{staticClass:"check"},[t._v("选择版本")]),s("div",{staticClass:"item-version"},[s("div",{staticClass:"phone",class:{checked:1==t.version},on:{click:function(s){t.version=1}}},[t._v("6GB+64GB 全网通 "),s("span",{staticClass:"light-color"},[t._v(t._s(t.product.price)+"元")])]),s("div",{staticClass:"phone",class:{checked:2==t.version},on:{click:function(s){t.version=2}}},[t._v("4GB+64GB 移动4G "),s("span",[t._v("1049元")])])]),s("p",{staticClass:"check"},[t._v("选择颜色")]),t._m(1),s("div",{staticClass:"buyphone-checked"},[s("div",{staticClass:"foot-description"},[s("span",{staticClass:"description"},[t._v(t._s(t.product.name)+" "+t._s(1==t.version?"6GB+64GB 全网通":"4GB+64GB 移动4G "))]),s("div",{staticClass:"foot-right"},[s("span",[t._v(t._s(t.product.price)+"元")]),s("p",[t._v("1699元")])])]),s("div",{staticClass:"phone-total"},[t._v("总计: "+t._s(t.product.price)+"元")])]),s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-huge",attrs:{href:"javascript: ;"},on:{click:t.addCart}},[t._v("加入购物车")]),t._m(2)])])]),t._m(3),s("ServiceBar")],1)},nt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"item-addr"},[s("div",{staticClass:"icon-loc"},[s("img",{attrs:{src:"/imgs/detail/icon-loc.png"}}),s("div",{staticClass:"addr"},[t._v("北京 北京市朝阳区安定门门街道"),s("a",[t._v(" 修改")])])]),s("div",{staticClass:"stock"},[t._v("有现货")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"item-color"},[s("div",{staticClass:"phone-color"}),s("span",[t._v("深空灰")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"like"},[s("img",{staticClass:"icon-like",attrs:{src:"/imgs/detail/icon-like.png"}}),s("span",[t._v("喜欢")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"description-content"},[s("div",{staticClass:"content"},[s("h3",[t._v("价格说明")]),s("img",{attrs:{src:"/imgs/detail/item-price.jpeg",alt:""}})])])}],ct={name:"detail",components:{productParam:tt,swiper:z["swiper"],swiperSlide:z["swiperSlide"],ServiceBar:$},data:function(){return{product:{},version:0,imgList:[{id:1,img:"/imgs/detail/phone-1.jpg"},{id:2,img:"/imgs/detail/phone-2.jpg"},{id:3,img:"/imgs/detail/phone-3.jpg"},{id:4,img:"/imgs/detail/phone-4.jpg"}],swiperOption:{autoplay:!0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},mounted:function(){this.getImgInfo()},methods:{getImgInfo:function(){var t=this,s=this.$route.params.id;this.axios.get("/products/"+s).then((function(s){t.product=s}))},addCart:function(){var t=this;this.axios.post("/carts",{productId:this.$route.params.id,selected:!0}).then((function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.$store.dispatch("saveCartCount",s.cartTotalQuantity),t.$message.success("已添加至购物车")}))}}},ot=ct,lt=(e("4f77"),Object(f["a"])(ot,rt,nt,!1,null,"762f1de5",null)),dt=lt.exports,ut=function(){var t=this,s=t._self._c;return s("div",{staticClass:"login"},[t._m(0),s("div",{staticClass:"login-content"},[s("div",{staticClass:"container"},[s("div",{staticClass:"login-box"},[t._m(1),s("div",{staticClass:"login-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"邮箱/手机号码/小米ID"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),s("div",{staticClass:"login-btn",on:{click:t.loginenter}},[t._v("登录")]),s("div",{staticClass:"login-zhuce"},[s("a",{attrs:{href:"##"},on:{click:t.register}},[t._v("手机登录/注册")]),t._m(2)])])])]),t._m(3)])},vt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"container"},[s("img",{staticClass:"login-header",attrs:{src:"/imgs/login-logo.png"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"login-header"},[s("span",[t._v("账号登录")]),s("span"),s("span",[t._v("扫码登录")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"zhuce-header"},[s("span",[t._v("立即注册")]),s("span",[t._v("|")]),s("span",[t._v("忘记密码？")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"login-footer"},[s("div",{staticClass:"container"},[s("div",{staticClass:"copy"},[s("span",[t._v("简体")]),s("span",[t._v("繁体")]),s("span",[t._v("English")]),s("span",[t._v("常见问题")]),s("span",[t._v("隐私政策")])]),s("div",{staticClass:"copyright"},[t._v("小米公司版权所有-京ICP备10046444- 京公网安备11010802020134号-京ICP证110507号 ")])])])}],pt={name:"login",data:function(){return{username:"",password:"",userId:""}},methods:{loginenter:function(){var t=this,s=this.username,e=this.password;this.axios.post("/user/login",{username:s,password:e}).then((function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.$cookie.set("userId",s.id,{expires:"1M"}),t.$store.commit("saveUsername",s.username),t.$router.push("/index")}))},register:function(){this.axios.post("/user/register",{username:"yangyuling",password:"yangyuling"}).then((function(){alert("注册成功")}))}}},mt=pt,ft=(e("7e3c"),Object(f["a"])(mt,ut,vt,!1,null,null,null)),ht=ft.exports,_t=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart"},[s("order-header",{attrs:{title:"我的购物车"},scopedSlots:t._u([{key:"tip",fn:function(){return[s("span",[t._v("温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算")])]},proxy:!0}])}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"cart-box"},[s("ul",{staticClass:"cart-item-head"},[s("li",{staticClass:"col-1"},[s("span",{staticClass:"checkbox",class:{checked:t.selectedAll},on:{click:t.checkedAll}}),t._v("全选 ")]),s("li",{staticClass:"col-3"},[t._v("商品名称")]),s("li",{staticClass:"col-1"},[t._v("单价")]),s("li",{staticClass:"col-2"},[t._v("数量")]),s("li",{staticClass:"col-1"},[t._v("小计")]),s("li",{staticClass:"col-1"},[t._v("操作")])]),s("ul",{staticClass:"cart-item-list"},t._l(t.productList,(function(e,a){return s("li",{key:a,staticClass:"cart-item"},[s("div",{staticClass:"item-check"},[s("span",{staticClass:"checkbox",class:{checked:e.productSelected},on:{click:function(s){return t.updatedCart(e)}}})]),s("div",{staticClass:"item-name"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}],attrs:{alt:""}}),s("span",[t._v(t._s(e.productName))])]),s("div",{staticClass:"item-price"},[t._v(t._s(e.productPrice)+"元")]),s("div",{staticClass:"item-num"},[s("div",{staticClass:"num-box"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.updatedCart(e,"-")}}},[t._v("-")]),s("span",[t._v(t._s(e.quantity))]),s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.updatedCart(e,"+")}}},[t._v("+")])])]),s("div",{staticClass:"item-total"},[t._v(t._s(e.productTotalPrice)+"元")]),s("div",{staticClass:"item-del",on:{click:function(s){return t.openModal(e)}}})])})),0)]),s("div",{staticClass:"order-wrap clearfix"},[s("div",{staticClass:"cart-tip fl"},[s("a",{attrs:{href:"/"}},[t._v("继续购物")]),t._v(" 共"),s("span",[t._v(t._s(t.cartTotalQuantity))]),t._v("件商品，已选择"),s("span",[t._v(t._s(t.checkedNum))]),t._v("件 ")]),s("div",{staticClass:"total fr"},[t._v(" 合计："),s("span",[t._v(t._s(t.cartTotalPrice))]),t._v("元 "),s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.order}},[t._v("去结算")])])])])]),s("modal",{attrs:{title:"提示",btntype:"3",modaltype:"middle",showModal:t.showModal},on:{submit:t.submit,cancel:t.cancel},scopedSlots:t._u([{key:"body",fn:function(){return[t._v(" 确定要删除这个商品吗？ ")]},proxy:!0}])}),s("service-bar"),s("nav-footer")],1)},gt=[],Ct=(e("7b93"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-header"},[s("div",{staticClass:"container clearfix"},[t._m(0),s("div",{staticClass:"title"},[s("h2",[t._v(" "+t._s(t.title)+" "),t._t("tip")],2)]),s("div",{staticClass:"username"},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))])])])])}),yt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}})])}],bt={name:"order-header",data:function(){return{}},props:{title:String,tip:String},computed:{username:function(){return this.$store.state.username}}},wt=bt,xt=(e("7d8e"),Object(f["a"])(wt,Ct,yt,!1,null,"76db05aa",null)),kt=xt.exports,jt={name:"index",components:{OrderHeader:kt,ServiceBar:$,NavFooter:x,Modal:q},data:function(){return{productList:[],cartTotalPrice:0,selectedAll:!1,cartTotalQuantity:0,showModal:!1,itemCart:{}}},computed:{checkedNum:function(){var t=0;return this.productList.forEach((function(s){s.productSelected&&(t+=s.quantity)})),t}},mounted:function(){this.getCartList(),this.checkedAll()},methods:{getCartList:function(){var t=this;this.axios.get("/carts").then((function(s){t.productList=s.cartProductVoList,t.cartTotalPrice=s.cartTotalPrice,t.cartTotalQuantity=s.cartTotalQuantity,t.selectedAll=s.selectedAll}))},openModal:function(t){this.showModal=!0,this.itemCart=t},submit:function(){this.deleteQuantityCart(this.itemCart),this.showModal=!1},cancel:function(){this.showModal=!1},checkedAll:function(){var t=this,s=this.selectedAll?"/carts/unSelectAll":"/carts/selectAll";this.axios.put(s).then((function(s){t.productList=s.cartProductVoList,t.cartTotalPrice=s.cartTotalPrice,t.cartTotalQuantity=s.cartTotalQuantity,t.selectedAll=s.selectedAll}))},updatedCart:function(t,s){var e=this,a=t.productSelected,i=t.quantity;if("+"==s){if(++i,i>t.productStock)return void this.$message.warning("已超过商品库存")}else if("-"==s){if(--i,i<1)return void this.$message.warning("至少保留一件商品")}else a=!t.productSelected;this.axios.put("/carts/".concat(t.productId),{quantity:i,selected:a}).then((function(t){e.productList=t.cartProductVoList,e.cartTotalPrice=t.cartTotalPrice,e.cartTotalQuantity=t.cartTotalQuantity,e.selectedAll=t.selectedAll}))},deleteQuantityCart:function(t){var s=this;this.axios.delete("/carts/".concat(t.productId)).then((function(t){s.productList=t.cartProductVoList,s.cartTotalPrice=t.cartTotalPrice,s.cartTotalQuantity=t.cartTotalQuantity,s.selectedAll=t.selectedAll}))},order:function(){this.checkedNum<1?this.$message.warning("请至少加入一件商品"):this.$router.push("/order/confirm")}}},Mt=jt,Pt=(e("a8ed"),Object(f["a"])(Mt,_t,gt,!1,null,"06b0f0b9",null)),It=Pt.exports,Nt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order"},[s("router-view"),s("service-bar"),s("nav-footer")],1)},St=[],Ot={name:"order",data:function(){return{title:"",tip:""}},components:{ServiceBar:$,NavFooter:x},mounted:function(){}},Lt=Ot,Tt=Object(f["a"])(Lt,Nt,St,!1,null,null,null),At=Tt.exports,$t=(e("737f"),e("6c1f"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-confirm"},[s("OrderHeader",{attrs:{title:"订单确认"},scopedSlots:t._u([{key:"tip",fn:function(){return[t._v(" 请认真填写收货地址 ")]},proxy:!0}])}),s("svg",{staticStyle:{position:"absolute",width:"0px",height:"0px",overflow:"hidden"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("defs",[s("symbol",{attrs:{id:"icon-add",viewBox:"0 0 31 32"}},[s("title",[t._v("add")]),s("path",{staticClass:"path1",attrs:{d:"M30.745 15.152h-14.382v-14.596c0-0.308-0.243-0.557-0.543-0.557s-0.543 0.249-0.543 0.557v14.596h-14.665c-0.3 0-0.543 0.249-0.543 0.557s0.243 0.557 0.543 0.557h14.665v15.177c0 0.307 0.243 0.557 0.543 0.557s0.543-0.249 0.543-0.557v-15.177h14.382c0.3 0 0.543-0.249 0.543-0.557s-0.243-0.557-0.543-0.557z"}})]),s("symbol",{attrs:{id:"icon-edit",viewBox:"0 0 32 32"}},[s("title",[t._v("edit")]),s("path",{staticClass:"path1",attrs:{d:"M28.287 8.51l-4.805-4.806 0.831-0.831c0.472-0.472 1.086-0.777 1.564-0.777 0.248 0 0.452 0.082 0.622 0.253l3.143 3.144c0.539 0.54 0.133 1.529-0.524 2.186l-0.831 0.831zM26.805 9.992l-1.138 1.138-4.805-4.806 1.138-1.138 4.805 4.806zM24.186 12.612l-14.758 14.762-4.805-4.806 14.758-14.762 4.805 4.806zM7.379 28.288l-4.892 1.224 1.223-4.894 3.669 3.67zM31.123 4.011l-3.143-3.144c-0.567-0.567-1.294-0.867-2.103-0.867-1.036 0-2.174 0.52-3.045 1.391l-20.429 20.436c-0.135 0.134-0.23 0.302-0.276 0.487l-2.095 8.385c-0.089 0.355 0.017 0.736 0.276 0.995 0.198 0.198 0.461 0.307 0.741 0.307 0.085 0 0.171-0.010 0.254-0.031l8.381-2.096c0.185-0.047 0.354-0.142 0.487-0.276l20.43-20.436c1.409-1.41 2.042-3.632 0.524-5.15v0z"}})]),s("symbol",{attrs:{id:"icon-del",viewBox:"0 0 32 32"}},[s("title",[t._v("delete")]),s("path",{staticClass:"path1",attrs:{d:"M11.355 4.129v-2.065h9.29v2.065h-9.29zM6.194 29.935v-23.742h19.613v23.742h-19.613zM30.968 4.129h-8.258v-3.097c0-0.569-0.463-1.032-1.032-1.032h-11.355c-0.569 0-1.032 0.463-1.032 1.032v3.097h-8.258c-0.569 0-1.032 0.463-1.032 1.032s0.463 1.032 1.032 1.032h3.097v24.774c0 0.569 0.463 1.032 1.032 1.032h21.677c0.569 0 1.032-0.463 1.032-1.032v-24.774h3.097c0.569 0 1.032-0.463 1.032-1.032s-0.463-1.032-1.032-1.032v0z"}}),s("path",{staticClass:"path2",attrs:{d:"M10.323 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),s("path",{staticClass:"path3",attrs:{d:"M16 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),s("path",{staticClass:"path4",attrs:{d:"M21.677 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}})])])]),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"order-box"},[s("div",{staticClass:"item-address"},[s("h2",{staticClass:"addr-title"},[t._v("收货地址")]),s("div",{staticClass:"addr-list clearfix"},[t._l(t.list,(function(e,a){return s("div",{key:a,staticClass:"addr-info",class:{checked:a==t.checkIndex},on:{click:function(s){t.checkIndex=a}}},[s("h2",[t._v(t._s(e.receiverName))]),s("div",{staticClass:"phone"},[t._v(t._s(e.receiverMobile))]),s("div",{staticClass:"street"},[t._v(t._s(e.receiverProvince+" "+e.receiverCity+" "+e.receiverDistrict+" "+e.receiverAddress))]),s("div",{staticClass:"action"},[s("a",{staticClass:"fl",attrs:{href:"javascript:;"},on:{click:function(s){return t.delAddress(e)}}},[s("svg",{staticClass:"icon icon-del"},[s("use",{attrs:{"xlink:href":"#icon-del"}})])]),s("a",{staticClass:"fr",attrs:{href:"javascript:;"},on:{click:function(s){return t.editAddressModal(e)}}},[s("svg",{staticClass:"icon icon-edit"},[s("use",{attrs:{"xlink:href":"#icon-edit"}})])])])])})),s("div",{staticClass:"addr-add",on:{click:t.openAddressModal}},[s("div",{staticClass:"icon-add"}),s("div",[t._v("添加新地址")])])],2)]),s("div",{staticClass:"item-good"},[s("h2",[t._v("商品")]),s("ul",t._l(t.cartList,(function(e,a){return s("li",{key:a},[s("div",{staticClass:"good-name"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}],attrs:{alt:""}}),s("span",[t._v(t._s(e.productName+" "+e.productSubtitle))])]),s("div",{staticClass:"good-price"},[t._v(t._s(e.productPrice)+"元x"+t._s(e.quantity))]),s("div",{staticClass:"good-total"},[t._v(t._s(e.productTotalPrice)+"元")])])})),0)]),t._m(0),t._m(1),s("div",{staticClass:"detail"},[s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("商品件数：")]),s("span",{staticClass:"item-val"},[t._v(t._s(t.count)+"件")])]),s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("商品总价：")]),s("span",{staticClass:"item-val"},[t._v(t._s(t.cartTotalPrice)+"元")])]),t._m(2),t._m(3),s("div",{staticClass:"item-total"},[s("span",{staticClass:"item-name"},[t._v("应付总额：")]),s("span",{staticClass:"item-val"},[t._v(t._s(t.cartTotalPrice)+"元")])])]),s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-default btn-large",attrs:{href:"/#/cart"}},[t._v("返回购物车")]),s("a",{staticClass:"btn btn-large",attrs:{href:"javascript:;"},on:{click:t.orderSubmit}},[t._v("去结算")])])])])]),s("modal",{attrs:{title:"新增确认",btntype:"1",showModal:t.showEditModal},on:{cancel:function(s){t.showEditModal=!1},submit:t.submitAddress},scopedSlots:t._u([{key:"body",fn:function(){return[s("div",{staticClass:"edit-wrap"},[s("div",{staticClass:"item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverName,expression:"checkedItem.receiverName"}],staticClass:"input",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.checkedItem.receiverName},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverName",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverMobile,expression:"checkedItem.receiverMobile"}],staticClass:"input",attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.checkedItem.receiverMobile},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverMobile",s.target.value)}}})]),s("div",{staticClass:"item"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverProvince,expression:"checkedItem.receiverProvince"}],attrs:{name:"province"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.checkedItem,"receiverProvince",s.target.multiple?e:e[0])}}},[s("option",{attrs:{value:"北京"}},[t._v("北京")]),s("option",{attrs:{value:"天津"}},[t._v("天津")]),s("option",{attrs:{value:"河北"}},[t._v("河北")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverCity,expression:"checkedItem.receiverCity"}],attrs:{name:"city"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.checkedItem,"receiverCity",s.target.multiple?e:e[0])}}},[s("option",{attrs:{value:"北京"}},[t._v("北京")]),s("option",{attrs:{value:"天津"}},[t._v("天津")]),s("option",{attrs:{value:"河北"}},[t._v("石家庄")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverDistrict,expression:"checkedItem.receiverDistrict"}],attrs:{name:"district"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.checkedItem,"receiverDistrict",s.target.multiple?e:e[0])}}},[s("option",{attrs:{value:"北京"}},[t._v("昌平区")]),s("option",{attrs:{value:"天津"}},[t._v("海淀区")]),s("option",{attrs:{value:"河北"}},[t._v("东城区")]),s("option",{attrs:{value:"天津"}},[t._v("西城区")]),s("option",{attrs:{value:"河北"}},[t._v("顺义区")]),s("option",{attrs:{value:"天津"}},[t._v("房山区")])])]),s("div",{staticClass:"item"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverAddress,expression:"checkedItem.receiverAddress"}],attrs:{name:"street"},domProps:{value:t.checkedItem.receiverAddress},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverAddress",s.target.value)}}})]),s("div",{staticClass:"item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverZip,expression:"checkedItem.receiverZip"}],staticClass:"input",attrs:{type:"text",placeholder:"邮编"},domProps:{value:t.checkedItem.receiverZip},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverZip",s.target.value)}}})])])]},proxy:!0}])}),s("modal",{attrs:{title:"删除确认",btntype:"1",showModal:t.showDelModal},on:{cancel:function(s){t.showDelModal=!1},submit:t.submitAddress},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("您确认要删除此地址吗？")])]},proxy:!0}])})],1)}),zt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"item-shipping"},[s("h2",[t._v("配送方式")]),s("span",[t._v("包邮")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"item-invoice"},[s("h2",[t._v("发票")]),s("a",{attrs:{href:"javascript:;"}},[t._v("电子发票")]),s("a",{attrs:{href:"javascript:;"}},[t._v("个人")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("优惠活动：")]),s("span",{staticClass:"item-val"},[t._v("0元")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("运费：")]),s("span",{staticClass:"item-val"},[t._v("0元")])])}],Dt=(e("f3b4"),e("b19d"),{name:"order-confirm",data:function(){return{list:[],cartList:[],cartTotalPrice:0,count:0,checkedItem:{},userAction:"",showDelModal:!1,showEditModal:!1,checkIndex:0}},components:{Modal:q,OrderHeader:kt},mounted:function(){this.getAddressList(),this.getCartList()},methods:{getAddressList:function(){var t=this;this.axios.get("/shippings").then((function(s){t.list=s.list}))},openAddressModal:function(){this.userAction=0,this.checkedItem={},this.showEditModal=!0},editAddressModal:function(t){this.userAction=1,this.checkedItem=t,this.showEditModal=!0},delAddress:function(t){this.checkedItem=t,this.userAction=2,this.showDelModal=!0},submitAddress:function(){var t,s,e=this,a=this.checkedItem,i=this.userAction,r={};if(0==i?(t="post",s="/shippings"):1==i?(t="put",s="/shippings/".concat(a.id)):(t="delete",s="/shippings/".concat(a.id)),0==i||1==i){var n=a.receiverName,c=a.receiverMobile,o=a.receiverProvince,l=a.receiverCity,d=a.receiverDistrict,u=a.receiverAddress,v=a.receiverZip,p="";if(n?c&&/\d{11}/.test(c)?o?l?u&&d?/\d{6}/.test(v)||(p="请输入六位邮编"):p="请输入收货地址":p="请选择对应的城市":p="请选择省份":p="请输入正确格式的手机号":p="请输入收货人名称",p)return void this.$message.error(p);r={receiverName:n,receiverMobile:c,receiverProvince:o,receiverCity:l,receiverDistrict:d,receiverAddress:u,receiverZip:v}}this.axios[t](s,r).then((function(){e.closeModal(),e.getAddressList(),e.$message.success("操作成功")}))},closeModal:function(){this.checkedItem={},this.userAction="",this.showDelModal=!1,this.showEditModal=!1},getCartList:function(){var t=this;this.axios.get("/carts").then((function(s){var e=s.cartProductVoList;t.cartTotalPrice=s.cartTotalPrice,t.cartList=e.filter((function(t){return t.productSelected})),t.cartList.map((function(s){t.count+=s.quantity}))}))},orderSubmit:function(){var t=this,s=this.list[this.checkIndex];s?this.axios.post("/orders",{shippingId:s.id}).then((function(s){t.$router.push({path:"/order/pay",query:{orderNo:s.orderNo}})})):this.$message.error("请选择一个收货地址")}}}),Bt=Dt,Et=(e("5984"),Object(f["a"])(Bt,$t,zt,!1,null,null,null)),Ut=Et.exports,Qt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-list"},[s("OrderHeader",{attrs:{title:"订单列表"},scopedSlots:t._u([{key:"tip",fn:function(){return[s("span",{staticClass:"tips"},[t._v("请谨防钓鱼链接或诈骗电话，了解更多>")])]},proxy:!0}])}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"order-box"},[t.loading?s("loading"):t._e(),t._l(t.list,(function(e,a){return s("div",{key:a,staticClass:"order"},[s("div",{staticClass:"order-title"},[s("div",{staticClass:"item-info fl"},[t._v(" "+t._s(e.createTime)+" "),s("span",[t._v("|")]),t._v(" "+t._s(e.receiverName)+" "),s("span",[t._v("|")]),t._v(" 订单号："+t._s(e.orderNo)+" "),s("span",[t._v("|")]),t._v(" "+t._s(e.paymentTypeDesc)+" ")]),s("div",{staticClass:"item-money fr"},[s("span",[t._v("应付金额：")]),s("span",{staticClass:"money"},[t._v(t._s(e.payment))]),s("span",[t._v("元")])])]),s("div",{staticClass:"order-content clearfix"},[s("div",{staticClass:"good-box fl"},t._l(e.orderItemVoList,(function(e,a){return s("div",{key:a,staticClass:"good-list"},[s("div",{staticClass:"good-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productImage,expression:"order.productImage"}],attrs:{alt:""}})]),s("div",{staticClass:"good-name"},[s("div",{staticClass:"p-name"},[t._v(t._s(e.productName))]),s("div",{staticClass:"p-money"},[t._v(t._s(e.totalPrice)+" X "+t._s(e.quantity)+"元")])])])})),0),20==e.status?s("div",{staticClass:"good-state fr"},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.statusDesc))])]):s("div",{staticClass:"good-state fr"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.goOrderPay(e.orderNo)}}},[t._v(t._s(e.statusDesc))])])])])})),t.loading||0!=t.list.length?t._e():s("nodata")],2)]),t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loadmore,expression:"loadmore"}],staticClass:"btnloading"},[s("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.loadingMore}},[t._v("加载更多")])],1)],1)],1)},qt=[],Gt=e("916c"),Ht=(e("fbc1"),e("9362")),Vt=e.n(Ht),Rt=(e("bf64"),e("782e")),Zt=e.n(Rt),Ft=(e("151b"),function(){var t=this;t._self._c;return t._m(0)}),Jt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"loading"},[s("img",{attrs:{src:"/imgs/loading-svg/loading-bars.svg",alt:""}})])}],Kt={name:"loading"},Wt=Kt,Xt=(e("5a94"),Object(f["a"])(Wt,Ft,Jt,!1,null,null,null)),Yt=Xt.exports,ts=function(){var t=this;t._self._c;return t._m(0)},ss=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"no-data"},[s("img",{attrs:{src:"/imgs/icon-no-data.png ",alt:""}}),s("p",[t._v("暂无订单提交记录")])])}],es={},as=es,is=(e("cfd8"),Object(f["a"])(as,ts,ss,!1,null,null,null)),rs=is.exports,ns={name:"order-list",components:Object(Gt["a"])({OrderHeader:kt,Loading:Yt,Nodata:rs,Pagination:Zt.a},Vt.a.name,Vt.a),data:function(){return{list:[],loading:!1,pageSize:10,pageNum:1,loadmore:!0}},mounted:function(){this.getOrderList()},methods:{getOrderList:function(){var t=this;this.axios.get("/orders",{params:{pageSize:1,pageNum:this.pageNum}}).then((function(s){console.log(s),t.list=t.list.concat(s.list),t.loading=!1,t.loadmore=s.hasNextPage}))},goOrderPay:function(t){this.$router.push({path:"/order/pay",query:{orderNo:t}})},currentPage:function(t){this.pageNum=t,this.getOrderList()},loadingMore:function(){this.pageNum++,this.getOrderList()}}},cs=ns,os=(e("964b"),Object(f["a"])(cs,Qt,qt,!1,null,"be7815f8",null)),ls=os.exports,ds=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-pay"},[s("OrderHeader",{attrs:{title:"订单支付"},scopedSlots:t._u([{key:"tip",fn:function(){return[t._v(" 请谨防钓鱼链接或诈骗电话，了解更多> ")]},proxy:!0}])}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"order-wrap"},[s("div",{staticClass:"item-order"},[s("div",{staticClass:"icon-succ"}),s("div",{staticClass:"order-info"},[s("h2",[t._v("订单提交成功！去付款咯～")]),t._m(0),s("p",[t._v("收货信息："+t._s(t.receiverName)+" "+t._s(t.receiverMobile)+" "+t._s(t.addressDetail))])]),s("div",{staticClass:"order-total"},[s("p",[t._v("应付总额："),s("span",[t._v(t._s(t.payment))]),t._v("元")]),s("p",[t._v("订单详情"),s("em",{staticClass:"icon-down",class:{up:t.orderShow},on:{click:function(s){t.orderShow=!t.orderShow}}})])])]),t.orderShow?s("div",{staticClass:"item-detail"},[s("div",{staticClass:"item"},[s("div",{staticClass:"detail-title"},[t._v("订单号：")]),s("div",{staticClass:"detail-info theme-color"},[t._v(t._s(t.orderNo))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"detail-title"},[t._v("收货信息：")]),s("div",{staticClass:"detail-info"},[t._v(t._s(t.receiverName)+" "+t._s(t.receiverMobile)+" "+t._s(t.addressDetail))])]),s("div",{staticClass:"item good"},[s("div",{staticClass:"detail-title"},[t._v("商品名称：")]),s("div",{staticClass:"detail-info"},[s("ul",t._l(t.orderList,(function(e,a){return s("li",{key:a},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productImage,expression:"item.productImage"}],attrs:{alt:""}}),t._v(t._s(e.productName)+" "+t._s(e.currentUnitPrice)+"*"+t._s(e.quantity)+" "+t._s(e.totalPrice)+"元 ")])})),0)])]),t._m(1)]):t._e()]),s("div",{staticClass:"item-pay"},[s("h3",[t._v("选择以下支付方式付款")]),s("div",{staticClass:"pay-way"},[s("p",[t._v("支付平台")]),s("div",{staticClass:"pay pay-ali",class:{checked:1==t.payType},on:{click:function(s){return t.sumbitPay(1)}}}),s("div",{staticClass:"pay pay-wechat",class:{checked:2==t.payType},on:{click:function(s){return t.sumbitPay(2)}}})])])])]),s("Modal",{attrs:{title:"支付确认",sureText:"查看订单",btntype:"3",showModal:t.showModalPay},on:{submit:t.goOrderList,cancel:function(s){t.showModalPay=t.flase}},scopedSlots:t._u([{key:"body",fn:function(){return[t._v(" 请确认是否完成订单支付？ ")]},proxy:!0}])}),t.showPay?s("ScanPanCode",{attrs:{img:t.payImg},on:{closeBtn:t.close}}):t._e()],1)},us=[function(){var t=this,s=t._self._c;return s("p",[t._v("请在"),s("span",[t._v("30分")]),t._v("内完成支付, 超时后将取消订单")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"item"},[s("div",{staticClass:"detail-title"},[t._v("发票信息：")]),s("div",{staticClass:"detail-info"},[t._v("电子发票 个人")])])}],vs=e("0b59"),ps=e.n(vs),ms=function(){var t=this,s=t._self._c;return s("div",{staticClass:"scan"},[s("div",{staticClass:"mask"}),s("div",{staticClass:"item-wrap"},[s("div",{staticClass:"img-scan"}),s("div",{staticClass:"img-pay"},[s("div",{staticClass:"title"},[t._v("微信支付"),s("em",{on:{click:t.close}})]),s("div",{staticClass:"qrcode"},[s("img",{attrs:{src:t.img}})]),t._m(0)])])])},fs=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"tip"},[s("p",[t._v("请使用"),s("span",{staticClass:"theme-color"},[t._v("微信")]),t._v("扫一扫")]),s("p",[t._v("二维码完成支付")])])}],hs={name:"scan-pay-code",data:function(){return{}},props:["img"],methods:{close:function(){this.$emit("closeBtn")}}},_s=hs,gs=(e("477c"),Object(f["a"])(_s,ms,fs,!1,null,null,null)),Cs=gs.exports,ys={name:"order-pay",data:function(){return{orderNo:this.$route.query.orderNo,orderList:[],addressDetail:[],receiverName:"",receiverMobile:"",payment:0,orderShow:!1,payType:"",showPay:!1,payImg:"",showModalPay:!1,T:""}},components:{ScanPanCode:Cs,Modal:q,OrderHeader:kt},mounted:function(){this.getOrderList(),this.sumbitPay()},methods:{getOrderList:function(){var t=this;this.axios.get("/orders/".concat(this.orderNo)).then((function(s){t.payment=s.payment,t.orderList=s.orderItemVoList;var e=s.shippingVo;t.receiverName=e.receiverName,t.receiverMobile=e.receiverMobile,t.addressDetail="".concat(e.receiverCity," ").concat(e.receiverDistrict," ").concat(e.receiverCity," ").concat(e.receiverAddress)}))},sumbitPay:function(t){var s=this;1==t?window.open("/#/order/alipay?orderId="+this.orderNo):this.axios.post("/pay",{orderId:this.orderNo,orderName:"杨玉玲的付款",amount:.01,payType:2}).then((function(){ps.a.toDataURL("res.content").then((function(t){s.showPay=!0,s.payImg=t,s.looporderstate()})).catch((function(){s.$message.error("生成二维码失败，请稍后重试")}))}))},close:function(){this.showModalPay=!0,this.showPay=!1,clearInterval(this.T)},looporderstate:function(){var t=this;this.T=setInterval((function(){t.axios.get("/orders/".concat(t.orderNo)).then((function(s){20==s.status&&(clearInterval(t.T),t.goOrderList())}))}),1e3)},goOrderList:function(){this.$router.push("/order/list")}}},bs=ys,ws=(e("4256"),Object(f["a"])(bs,ds,us,!1,null,null,null)),xs=ws.exports,ks=function(){var t=this,s=t._self._c;return s("div",{staticClass:"ali-pay"},[t.loading?s("loading"):t._e(),s("div",{staticClass:"form",domProps:{innerHTML:t._s(t.content)}})],1)},js=[],Ms={name:"alipay",components:{Loading:Yt},data:function(){return{orderId:this.$route.query.orderId,content:"",loading:!0}},mounted:function(){this.sumbitPay()},methods:{sumbitPay:function(){var t=this;this.axios.post("/pay",{orderId:this.orderId,orderName:"杨玉玲的支付宝付款",amount:.01,payType:1}).then((function(s){console.log(s),t.content=s.content,setTimeout((function(){document.forms[0].submit()}),100)}))}}},Ps=Ms,Is=Object(f["a"])(Ps,ks,js,!1,null,null,null),Ns=Is.exports;r["default"].use(n["a"]);var Ss=new n["a"]({routes:[{path:"/",name:"home",component:P,redirect:"/index",children:[{path:"/index",name:"index",component:R},{path:"/product/:id",name:"product",component:it},{path:"/detail/:id",name:"detail",component:dt}]},{path:"/cart",name:"cart",component:It},{path:"/login",name:"login",component:ht},{path:"/order",name:"order",component:At,children:[{path:"list",name:"order-list",component:ls},{path:"confirm",name:"order-confirm",component:Ut},{path:"pay",name:"order-pay",component:xs},{path:"alipay",name:"alipay",component:Ns}]}]}),Os=e("82ae"),Ls=e.n(Os),Ts=e("e7aa"),As=e.n(Ts),$s=(e("1c2f"),function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)}),zs=[],Ds={name:"app",components:{},data:function(){return{}},mounted:function(){this.getCartCount(),this.getUser()},methods:{getUser:function(){var t=this;this.axios.get("/user",{}).then((function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.$store.dispatch("saveUsername",s.username)}))},getCartCount:function(){var t=this;this.axios.get("/carts/products/sum",{}).then((function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.$store.dispatch("saveCartCount",s)}))}}},Bs=Ds,Es=(e("a3a5"),Object(f["a"])(Bs,$s,zs,!1,null,null,null)),Us=Es.exports,Qs=e("d41e"),qs=e("4f49"),Gs=e.n(qs),Hs={saveUsername:function(t,s){t.username=s},saveCartCount:function(t,s){t.cartCount=s}},Vs={saveUsername:function(t,s){t.commit("saveUsername",s)},saveCartCount:function(t,s){t.commit("saveCartCount",s)}};r["default"].use(v["a"]);var Rs={username:"",cartCount:0},Zs=new v["a"].Store({state:Rs,mutations:Hs,actions:Vs}),Fs=!1;Fs&&e("fc6e"),Ls.a.defaults.baseURL="/api",Ls.a.defaults.timeout=8e3,Ls.a.interceptors.response.use((function(t){var s=t.data,e=location.hash;return 0==s.status?s.data:10!=s.status?(alert(s.msg),Promise.reject(s)):void("/#/index"!=e&&(window.location.href="/#/login"))}),(function(t){var s=t.response;return i.a.error(s.data.message),Promise.reject(t)})),r["default"].use(As.a,Ls.a),r["default"].use(Gs.a),r["default"].use(Qs["a"],{loading:"/imgs/loading-svg/loading-bars.svg"}),r["default"].config.productionTip=!1,r["default"].prototype.$message=i.a,new r["default"]({store:Zs,router:Ss,render:function(t){return t(Us)}}).$mount("#app")},"576e":function(t,s,e){},"593c":function(t,s,e){},5984:function(t,s,e){"use strict";e("53ff")},"5a94":function(t,s,e){"use strict";e("641d")},"5b43":function(t,s,e){},"641d":function(t,s,e){},"651e":function(t,s,e){},6935:function(t,s,e){t.exports=e.p+"img/gallery-2.dce88028.png"},"6a77":function(t,s,e){},"7ac5":function(t,s,e){},"7b00":function(t,s,e){"use strict";e("651e")},"7d8e":function(t,s,e){"use strict";e("cb30")},"7e3c":function(t,s,e){"use strict";e("9974")},"964b":function(t,s,e){"use strict";e("2aa1")},9974:function(t,s,e){},"9df9":function(t,s,e){"use strict";e("c00b")},a2b2:function(t,s,e){},a3a5:function(t,s,e){"use strict";e("54cf")},a8ed:function(t,s,e){"use strict";e("acbf")},acbf:function(t,s,e){},baa9:function(t,s,e){},c00b:function(t,s,e){},c6a2:function(t,s,e){"use strict";e("593c")},cb30:function(t,s,e){},cfd8:function(t,s,e){"use strict";e("576e")},d010:function(t,s,e){t.exports=e.p+"img/gallery-3.a72267eb.png"},d2c6:function(t,s,e){"use strict";e("33b9")},d3f0:function(t,s,e){},e806:function(t,s,e){"use strict";e("a2b2")},fc6e:function(t,s,e){"use strict";e.r(s);var a=e("03a1"),i=e.n(a);i.a.mock("/api/user/login",{status:0,data:{"id|10001-11000":0,username:"@cname",email:"admin@51purse.com",phone:null,role:0,createTime:1479048325e3,updateTime:1479048325e3}})}});
//# sourceMappingURL=app.e262e21c.js.map